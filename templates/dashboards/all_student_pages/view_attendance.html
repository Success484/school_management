{% extends 'dashboards/all_student_pages/base.html' %}
{% load static %}
{% load custom_filters %}
{% block section %}

<div class="m-3 p-3 rounded-lg" style="background-color: #F9F9F9;">
    {% if messages %}
    {% for message in messages %}
    <h3 class="bg-blue-100 text-blue-500 p-3 text-normal font-normal mb-6">{{ message }}</h3>
    {% endfor %}
    {% endif %}

<h1 class="text-2xl font-bold mb-4">Attendance for {{ student_class.name }} - {{ month }}/{{ year }}</h1>
<div class="table-data">
    <div>
        <table class="min-w-full border-collapse border border-zinc-400 mb-6">
            <thead>
                <tr>
                    <th class="border border-zinc-400 bg-blue-200 p-1">STUDENT NAME</th>
                    {% for day, weekday_name in weekdays %}
                    <th class="border border-zinc-400 bg-blue-200 p-1">{{ day }}</th>
                    {% endfor %}
                </tr>
            </thead>
            <tbody>
                {% for student in students %}
                    <tr>
                        <td class="border border-zinc-400 p-1">{{ student }}</td>
                        {% with record=attendance_records|get_item:student.id %}
                            {% if record %}
                                <td class="border border-gray-300 p-1">
                                    {% if record.status1 == "A" %}
                                            <i class="fa fa-times text-red-500"></i>
                                        {% elif record.status1 == "P" %}
                                            <i class="fa fa-check text-green-500"></i>
                                        {% elif record.status1 == "D" %}
                                            --
                                        {% else %}
                                            --
                                        {% endif %}
                                    </td>
                                    <td class="border border-gray-300 p-1">
                                        {% if record.status2 == "A" %}
                                            <i class="fa fa-times text-red-500"></i>
                                        {% elif record.status2 == "P" %}
                                            <i class="fa fa-check text-green-500"></i>
                                        {% elif record.status2 == "D" %}
                                            --
                                        {% else %}
                                            --
                                        {% endif %}
                                    </td>
                                    <td class="border border-gray-300 p-1">
                                        {% if record.status3 == "A" %}
                                            <i class="fa fa-times text-red-500"></i>
                                        {% elif record.status3 == "P" %}
                                            <i class="fa fa-check text-green-500"></i>
                                        {% elif record.status3 == "D" %}
                                            --
                                        {% else %}
                                            --
                                        {% endif %}
                                    </td>
                                    <td class="border border-gray-300 p-1">
                                        {% if record.status4 == "A" %}
                                            <i class="fa fa-times text-red-500"></i>
                                        {% elif record.status4 == "P" %}
                                            <i class="fa fa-check text-green-500"></i>
                                        {% elif record.status4 == "D" %}
                                            --
                                        {% else %}
                                            --
                                        {% endif %}
                                    </td>
                                    <td class="border border-gray-300 p-1">
                                        {% if record.status5 == "A" %}
                                            <i class="fa fa-times text-red-500"></i>
                                        {% elif record.status5 == "P" %}
                                            <i class="fa fa-check text-green-500"></i>
                                        {% elif record.status5 == "D" %}
                                            --
                                        {% else %}
                                            --
                                        {% endif %}
                                    </td>
                                    <td class="border border-gray-300 p-1">
                                        {% if record.status6 == "A" %}
                                            <i class="fa fa-times text-red-500"></i>
                                        {% elif record.status6 == "P" %}
                                            <i class="fa fa-check text-green-500"></i>
                                        {% elif record.status6 == "D" %}
                                            --
                                        {% else %}
                                            --
                                        {% endif %}
                                    </td>
                                    <td class="border border-gray-300 p-1">
                                        {% if record.status7 == "A" %}
                                            <i class="fa fa-times text-red-500"></i>
                                        {% elif record.status7 == "P" %}
                                            <i class="fa fa-check text-green-500"></i>
                                        {% elif record.status7 == "D" %}
                                            --
                                        {% else %}
                                            --
                                        {% endif %}
                                    </td>
                                    <td class="border border-gray-300 p-1">
                                        {% if record.status8 == "A" %}
                                            <i class="fa fa-times text-red-500"></i>
                                        {% elif record.status8 == "P" %}
                                            <i class="fa fa-check text-green-500"></i>
                                        {% elif record.status8 == "D" %}
                                            --
                                        {% else %}
                                            --
                                        {% endif %}
                                    </td>
                                    <td class="border border-gray-300 p-1">
                                        {% if record.status9 == "A" %}
                                            <i class="fa fa-times text-red-500"></i>
                                        {% elif record.status9 == "P" %}
                                            <i class="fa fa-check text-green-500"></i>
                                        {% elif record.status9 == "D" %}
                                            --
                                        {% else %}
                                            --
                                        {% endif %}
                                    </td>
                                    <td class="border border-gray-300 p-1">
                                        {% if record.status10 == "A" %}
                                            <i class="fa fa-times text-red-500"></i>
                                        {% elif record.status10 == "P" %}
                                            <i class="fa fa-check text-green-500"></i>
                                        {% elif record.status10 == "D" %}
                                            --
                                        {% else %}
                                            --
                                        {% endif %}
                                    </td>
                                    <td class="border border-gray-300 p-1">
                                        {% if record.status11 == "A" %}
                                            <i class="fa fa-times text-red-500"></i>
                                        {% elif record.status11 == "P" %}
                                            <i class="fa fa-check text-green-500"></i>
                                        {% elif record.status11 == "D" %}
                                            --
                                        {% else %}
                                            --
                                        {% endif %}
                                    </td>
                                    <td class="border border-gray-300 p-1">
                                        {% if record.status12 == "A" %}
                                            <i class="fa fa-times text-red-500"></i>
                                        {% elif record.status12 == "P" %}
                                            <i class="fa fa-check text-green-500"></i>
                                        {% elif record.status12 == "D" %}
                                            --
                                        {% else %}
                                            --
                                        {% endif %}
                                    </td>
                                    <td class="border border-gray-300 p-1">
                                        {% if record.status13 == "A" %}
                                            <i class="fa fa-times text-red-500"></i>
                                        {% elif record.status13 == "P" %}
                                            <i class="fa fa-check text-green-500"></i>
                                        {% elif record.status13 == "D" %}
                                            --
                                        {% else %}
                                            --
                                        {% endif %}
                                    </td>
                                    <td class="border border-gray-300 p-1">
                                        {% if record.status14 == "A" %}
                                            <i class="fa fa-times text-red-500"></i>
                                        {% elif record.status14 == "P" %}
                                            <i class="fa fa-check text-green-500"></i>
                                        {% elif record.status14 == "D" %}
                                            --
                                        {% else %}
                                            --
                                        {% endif %}
                                    </td>
                                    <td class="border border-gray-300 p-1">
                                        {% if record.status15 == "A" %}
                                            <i class="fa fa-times text-red-500"></i>
                                        {% elif record.status15 == "P" %}
                                            <i class="fa fa-check text-green-500"></i>
                                        {% elif record.status15 == "D" %}
                                            --
                                        {% else %}
                                            --
                                        {% endif %}
                                    </td>
                                    <td class="border border-gray-300 p-1">
                                        {% if record.status16 == "A" %}
                                            <i class="fa fa-times text-red-500"></i>
                                        {% elif record.status16 == "P" %}
                                            <i class="fa fa-check text-green-500"></i>
                                        {% elif record.status16 == "D" %}
                                            --
                                        {% else %}
                                            --
                                        {% endif %}
                                    </td>
                                    <td class="border border-gray-300 p-1">
                                        {% if record.status17 == "A" %}
                                            <i class="fa fa-times text-red-500"></i>
                                        {% elif record.status17 == "P" %}
                                            <i class="fa fa-check text-green-500"></i>
                                        {% elif record.status17 == "D" %}
                                            --
                                        {% else %}
                                            --
                                        {% endif %}
                                    </td>
                                    <td class="border border-gray-300 p-1">
                                        {% if record.status18 == "A" %}
                                            <i class="fa fa-times text-red-500"></i>
                                        {% elif record.status18 == "P" %}
                                            <i class="fa fa-check text-green-500"></i>
                                        {% elif record.status18 == "D" %}
                                            --
                                        {% else %}
                                            --
                                        {% endif %}
                                    </td>
                                    <td class="border border-gray-300 p-1">
                                        {% if record.status19 == "A" %}
                                            <i class="fa fa-times text-red-500"></i>
                                        {% elif record.status19 == "P" %}
                                            <i class="fa fa-check text-green-500"></i>
                                        {% elif record.status19 == "D" %}
                                            --
                                        {% else %}
                                            --
                                        {% endif %}
                                    </td>
                                    <td class="border border-gray-300 p-1">
                                        {% if record.status20 == "A" %}
                                            <i class="fa fa-times text-red-500"></i>
                                        {% elif record.status20 == "P" %}
                                            <i class="fa fa-check text-green-500"></i>
                                        {% elif record.status20 == "D" %}
                                            --
                                        {% else %}
                                            --
                                        {% endif %}
                                    </td>
                                    <td class="border border-gray-300 p-1">
                                        {% if record.status21 == "A" %}
                                            <i class="fa fa-times text-red-500"></i>
                                        {% elif record.status21 == "P" %}
                                            <i class="fa fa-check text-green-500"></i>
                                        {% elif record.status21 == "D" %}
                                            --
                                        {% else %}
                                            --
                                        {% endif %}
                                    </td>
                                    <td class="border border-gray-300 p-1">
                                        {% if record.status22 == "A" %}
                                            <i class="fa fa-times text-red-500"></i>
                                        {% elif record.status22 == "P" %}
                                            <i class="fa fa-check text-green-500"></i>
                                        {% elif record.status22 == "D" %}
                                            --
                                        {% else %}
                                            --
                                        {% endif %}
                                    </td>
                                    <td class="border border-gray-300 p-1">
                                        {% if record.status23 == "A" %}
                                            <i class="fa fa-times text-red-500"></i>
                                        {% elif record.status23 == "P" %}
                                            <i class="fa fa-check text-green-500"></i>
                                        {% elif record.status23 == "D" %}
                                            --
                                        {% else %}
                                            --
                                        {% endif %}
                                    </td>
                            {% else %}
                            <td class="border border-gray-300 p-1">
                                <i class="fa fa-minus text-gray-500"></i> <!-- No record -->
                                </td>
                            {% endif %}
                        {% endwith %}
                    </tr>
                    {% endfor %}
                </tbody>
        </table>
    </div>
</div>
</div>
{% endblock section %}
